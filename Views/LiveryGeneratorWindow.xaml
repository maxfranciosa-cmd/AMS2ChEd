<Window x:Class="AMS2ChEd.LiveryGeneratorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="AMS2 Livery Generator" 
        Height="700" 
        Width="1100"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <Style TargetType="GroupBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="10"/>
        </Style>

        <Style TargetType="TextBox">
            <Setter Property="Margin" Value="5,2"/>
            <Setter Property="Padding" Value="5"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>

        <Style TargetType="Button">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="MinWidth" Value="100"/>
        </Style>

        <Style TargetType="Label">
            <Setter Property="Padding" Value="5,5,10,5"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
    </Window.Resources>

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Title -->
        <TextBlock Grid.Row="0" 
                   Text="AMS2 Livery Generator" 
                   FontSize="20" 
                   FontWeight="Bold" 
                   Margin="0,0,0,10"/>

        <!-- Input Files Section -->
        <GroupBox Grid.Row="1" Header="Input Files">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Label Grid.Row="0" Grid.Column="0" Content="Drivers JSON:"/>
                <TextBox Grid.Row="0" Grid.Column="1" Name="txtDriversJson" Text="C:\Cose\AMS2ChEd\bin\Debug\net8.0-windows\Drivers\drivers.json"/>
                <Button Grid.Row="0" Grid.Column="2" Content="Browse..." Click="BrowseDriversJson_Click"/>

                <Label Grid.Row="1" Grid.Column="0" Content="Season JSON:"/>
                <TextBox Grid.Row="1" Grid.Column="1" Name="txtSeasonJson" Text="C:\Cose\AMS2ChEd\bin\Debug\net8.0-windows\Seasons\1996\season.json"/>
                <Button Grid.Row="1" Grid.Column="2" Content="Browse..." Click="BrowseSeasonJson_Click"/>

                <Label Grid.Row="2" Grid.Column="0" Content="Drivers Dir:"/>
                <TextBox Grid.Row="2" Grid.Column="1" Name="txtDriversDir" Text="C:\Cose\AMS2ChEd\bin\Debug\net8.0-windows\Drivers" ToolTip="Drivers directory containing base_helmet_liveries/ and drivers.json"/>
                <Button Grid.Row="2" Grid.Column="2" Content="Browse..." Click="BrowseDriversDir_Click"/>

                <Label Grid.Row="3" Grid.Column="0" Content="Season Dir:"/>
                <TextBox Grid.Row="3" Grid.Column="1" Name="txtSeasonDir" Text="C:\Cose\AMS2ChEd\bin\Debug\net8.0-windows\Seasons\1996" ToolTip="Season directory (e.g., Seasons/1996) containing static_assets/, car_liveries/, helmet_sponsors/"/>
                <Button Grid.Row="3" Grid.Column="2" Content="Browse..." Click="BrowseSeasonDir_Click"/>

                <Label Grid.Row="4" Grid.Column="0" Content="AMS2 Root:"/>
                <TextBox Grid.Row="4" Grid.Column="1" Name="txtAms2Root" ToolTip="Root AMS2 directory (contains UserData and Vehicles folders)"/>
                <Button Grid.Row="4" Grid.Column="2" Content="Browse..." Click="BrowseAms2Root_Click"/>
            </Grid>
        </GroupBox>

        <!-- Race Configuration Section -->
        <GroupBox Grid.Row="2" Header="Race Configuration">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="150"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <Label Grid.Row="0" Grid.Column="0" Content="Race ID:"/>
                <TextBox Grid.Row="0" Grid.Column="1" Name="txtRaceId" Text="1"/>

                <!-- Player Data -->
                <Label Grid.Row="1" Grid.Column="0" Content="Player Name:"/>
                <TextBox Grid.Row="1" Grid.Column="1" Name="txtPlayerName" Text="Ayrton Senna" ToolTip="Optional: Player's display name"/>

                <Label Grid.Row="1" Grid.Column="3" Content="Player Helmet:"/>
                <TextBox Grid.Row="1" Grid.Column="4" Name="txtPlayerHelmet" Text="senna_ferrari.dds"  ToolTip="Optional: Path to player's helmet DDS"/>

                <Label Grid.Row="2" Grid.Column="0" Content="Player Visor:"/>
                <TextBox Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="3" Name="txtPlayerVisor" Text="senna_visor.dds" ToolTip="Optional: Path to player's visor DDS"/>

                <Label Grid.Row="3" Grid.Column="0" Content="Player Country:"/>
                <TextBox Grid.Row="3" Grid.Column="1" Name="txtPlayerCountry" Text="BRA" ToolTip="Optional: 3-letter country code"/>
            </Grid>
        </GroupBox>

        <!-- Entry List Section -->
        <GroupBox Grid.Row="3" Header="Entry List (Format: teamId:driver1Id,driver2Id)">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <DataGrid Grid.Row="0" 
                          Name="dgEntryList" 
                          AutoGenerateColumns="False" 
                          CanUserAddRows="True"
                          Margin="5">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Team ID" Binding="{Binding TeamId}" Width="150"/>
                        <DataGridTextColumn Header="Driver 1 ID" Binding="{Binding Driver1Id}" Width="*"/>
                        <DataGridTextColumn Header="Driver 2 ID" Binding="{Binding Driver2Id}" Width="*"/>
                    </DataGrid.Columns>
                </DataGrid>

                <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="Clear All" Click="ClearEntryList_Click"/>
                    <Button Content="Add Sample" Click="AddSampleData_Click"/>
                </StackPanel>
            </Grid>
        </GroupBox>

        <!-- Action Buttons and Output -->
        <Grid Grid.Row="4">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="180"/>
            </Grid.RowDefinitions>

            <StackPanel Grid.Row="0" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10">
                <Button Content="Generate Files" 
                        Click="GenerateFiles_Click" 
                        Background="#FF4CAF50" 
                        Foreground="White"
                        FontWeight="Bold"
                        MinWidth="150"
                        Padding="15,8"/>
                <Button Content="Clear Output" Click="ClearOutput_Click"/>
                <Button Content="Open Output" Click="OpenOutputFolder_Click"/>
            </StackPanel>

            <GroupBox Grid.Row="1" Header="Output Log">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <TextBox Name="txtOutput" 
                             IsReadOnly="True" 
                             TextWrapping="Wrap"
                             FontFamily="Consolas"
                             Background="#FF1E1E1E"
                             Foreground="#FFDCDCDC"
                             Padding="10"/>
                </ScrollViewer>
            </GroupBox>
        </Grid>
    </Grid>
</Window>
